# ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚¬ã‚¤ãƒ‰

{{PROJECT_NAME}} ã®ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°æ–¹é‡ã¨å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’èª¬æ˜ã—ã¾ã™ã€‚

<!-- 
ğŸ“ æ›¸ãã¹ãå†…å®¹:
- ã‚¨ãƒ©ãƒ¼ã®åˆ†é¡ï¼ˆãƒ“ã‚¸ãƒã‚¹ã‚¨ãƒ©ãƒ¼/ã‚·ã‚¹ãƒ†ãƒ ã‚¨ãƒ©ãƒ¼/ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼ï¼‰
- å„å±¤ã§ã®ã‚¨ãƒ©ãƒ¼å‡¦ç†æ–¹é‡
- ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¨é–‹ç™ºè€…å‘ã‘ãƒ­ã‚°ã®åˆ†é›¢
- å…±é€šã‚¨ãƒ©ãƒ¼å®šç¾©

ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º:
- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã‚¨ãƒ©ãƒ¼å‡¦ç†æ–¹é‡ã«åˆã‚ã›ã¦æ›´æ–°
-->

## ğŸ“š ç›®æ¬¡

1. [ã‚¨ãƒ©ãƒ¼ã®åˆ†é¡](#ã‚¨ãƒ©ãƒ¼ã®åˆ†é¡)
2. [å„å±¤ã®ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°](#å„å±¤ã®ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°)
3. [ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®è¨­è¨ˆ](#ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®è¨­è¨ˆ)
4. [å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³](#å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³)

---

## ã‚¨ãƒ©ãƒ¼ã®åˆ†é¡

### ãƒ“ã‚¸ãƒã‚¹ã‚¨ãƒ©ãƒ¼

ãƒ“ã‚¸ãƒã‚¹ãƒ«ãƒ¼ãƒ«é•åã«ã‚ˆã‚‹ã‚¨ãƒ©ãƒ¼ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«å…·ä½“çš„ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤ºã€‚

ä¾‹:
- æ¨©é™ä¸è¶³
- ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼
- ãƒªã‚½ãƒ¼ã‚¹æœªå­˜åœ¨

### ã‚·ã‚¹ãƒ†ãƒ ã‚¨ãƒ©ãƒ¼

äºˆæœŸã—ãªã„ã‚·ã‚¹ãƒ†ãƒ ã®å•é¡Œã€‚ä¸€èˆ¬çš„ãªã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤ºã—ã€è©³ç´°ã¯ãƒ­ã‚°ã«è¨˜éŒ²ã€‚

ä¾‹:
- ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šã‚¨ãƒ©ãƒ¼
- å¤–éƒ¨APIéšœå®³

---

## å„å±¤ã®ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

### Domainå±¤

- ç´”ç²‹ãªãƒ“ã‚¸ãƒã‚¹ãƒ«ãƒ¼ãƒ«é•åã‚’æ¤œå‡º
- ã‚«ã‚¹ã‚¿ãƒ ã‚¨ãƒ©ãƒ¼ã‚¯ãƒ©ã‚¹ã‚’ä½¿ç”¨

```typescript
// src/core/domain/errors/domain-errors.ts
export class ValidationError extends Error {
  constructor(message: string) {
    super(message)
    this.name = 'ValidationError'
  }
}

export class NotFoundError extends Error {
  constructor(resource: string, id: string) {
    super(`${resource} not found: ${id}`)
    this.name = 'NotFoundError'
  }
}
```

### Applicationå±¤ï¼ˆUseCaseï¼‰

- Domain/Infrastructureã®ã‚¨ãƒ©ãƒ¼ã‚’æ•æ‰
- ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«å¤‰æ›

```typescript
// src/core/application/use-cases/get-user.ts
export class GetUserUseCase {
  async execute(userId: string): Promise<User> {
    try {
      const user = await this.userRepository.findById(userId)
      if (!user) {
        throw new NotFoundError('User', userId)
      }
      return user
    } catch (error) {
      // ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«å¤‰æ›
      throw this.translateError(error)
    }
  }

  private translateError(error: unknown): Error {
    if (error instanceof NotFoundError) {
      return new AppError('ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸ', error)
    }
    return new AppError('äºˆæœŸã—ãªã„ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ', error)
  }
}
```

### Infrastructureå±¤

- å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ã®ã‚¨ãƒ©ãƒ¼ã‚’ãƒ©ãƒƒãƒ—
- ãƒªãƒˆãƒ©ã‚¤å‡¦ç†ã‚’å®Ÿè£…

```typescript
// src/core/infrastructure/api/api-client.ts
export class ApiClient {
  async get<T>(url: string): Promise<T> {
    try {
      const response = await fetch(url)
      if (!response.ok) {
        throw new ApiError(response.status, await response.text())
      }
      return response.json()
    } catch (error) {
      if (error instanceof ApiError) throw error
      throw new NetworkError('ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ¥ç¶šã«å•é¡ŒãŒã‚ã‚Šã¾ã™')
    }
  }
}
```

### Presentationå±¤ï¼ˆUIï¼‰

- ã‚¨ãƒ©ãƒ¼çŠ¶æ…‹ã‚’è¡¨ç¤º
- ã‚¨ãƒ©ãƒ¼ãƒã‚¦ãƒ³ãƒ€ãƒªã§äºˆæœŸã—ãªã„ã‚¨ãƒ©ãƒ¼ã‚’ã‚­ãƒ£ãƒƒãƒ

```typescript
// src/components/features/UserProfile/UserProfile.presenter.tsx
export function UserProfilePresenter({ error }: Props) {
  if (error) {
    return (
      <Alert variant="destructive">
        <AlertDescription>{error}</AlertDescription>
      </Alert>
    )
  }
  // ...
}
```

---

## ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®è¨­è¨ˆ

### ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸

| ã‚«ãƒ†ã‚´ãƒª | ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¾‹ |
|---------|------------|
| èªè¨¼ã‚¨ãƒ©ãƒ¼ | ã€Œãƒ­ã‚°ã‚¤ãƒ³ãŒå¿…è¦ã§ã™ã€ |
| æ¨©é™ã‚¨ãƒ©ãƒ¼ | ã€Œã“ã®æ“ä½œã‚’è¡Œã†æ¨©é™ãŒã‚ã‚Šã¾ã›ã‚“ã€ |
| ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ | ã€Œãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã®å½¢å¼ãŒæ­£ã—ãã‚ã‚Šã¾ã›ã‚“ã€ |
| æœªå­˜åœ¨ | ã€ŒæŒ‡å®šã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€ |
| ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ | ã€Œé€šä¿¡ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚å†åº¦ãŠè©¦ã—ãã ã•ã„ã€ |
| ã‚·ã‚¹ãƒ†ãƒ  | ã€ŒäºˆæœŸã—ãªã„ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€ |

### é–‹ç™ºè€…å‘ã‘ãƒ­ã‚°

```typescript
// é–‹ç™ºè€…å‘ã‘ã«ã¯è©³ç´°æƒ…å ±ã‚’ãƒ­ã‚°å‡ºåŠ›
console.error('[GetUserUseCase] Failed to fetch user', {
  userId,
  error: originalError,
  stack: originalError.stack,
})
```

---

## å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³

### ã‚«ã‚¹ã‚¿ãƒ ã‚¨ãƒ©ãƒ¼ã‚¯ãƒ©ã‚¹

```typescript
// src/core/domain/errors/app-error.ts
export class AppError extends Error {
  /** ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«è¡¨ç¤ºã™ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ */
  readonly userMessage: string
  /** å…ƒã®ã‚¨ãƒ©ãƒ¼ï¼ˆãƒ‡ãƒãƒƒã‚°ç”¨ï¼‰ */
  readonly cause?: Error

  constructor(userMessage: string, cause?: Error) {
    super(cause?.message ?? userMessage)
    this.name = 'AppError'
    this.userMessage = userMessage
    this.cause = cause
  }
}
```

### ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å®šæ•°

```typescript
// src/core/domain/constants/error-messages.ts
export const ERROR_MESSAGES = {
  AUTH: {
    REQUIRED: 'ãƒ­ã‚°ã‚¤ãƒ³ãŒå¿…è¦ã§ã™',
    EXPIRED: 'ã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒæœŸé™åˆ‡ã‚Œã§ã™ã€‚å†åº¦ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ãã ã•ã„',
    FORBIDDEN: 'ã“ã®æ“ä½œã‚’è¡Œã†æ¨©é™ãŒã‚ã‚Šã¾ã›ã‚“',
  },
  VALIDATION: {
    REQUIRED: (field: string) => `${field}ã¯å¿…é ˆã§ã™`,
    INVALID_FORMAT: (field: string) => `${field}ã®å½¢å¼ãŒæ­£ã—ãã‚ã‚Šã¾ã›ã‚“`,
  },
  NETWORK: {
    ERROR: 'é€šä¿¡ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚å†åº¦ãŠè©¦ã—ãã ã•ã„',
    TIMEOUT: 'ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã—ã¾ã—ãŸ',
  },
  SYSTEM: {
    UNEXPECTED: 'äºˆæœŸã—ãªã„ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ',
  },
} as const
```

### ãƒ•ãƒƒã‚¯å†…ã§ã®ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

```typescript
// src/hooks/use-user.ts
export function useUser(userId: string) {
  const [error, setError] = useState<string | null>(null)

  const fetchUser = useCallback(async () => {
    try {
      const user = await getUser(userId)
      return user
    } catch (e) {
      const message = e instanceof AppError 
        ? e.userMessage 
        : ERROR_MESSAGES.SYSTEM.UNEXPECTED
      setError(message)
      return null
    }
  }, [userId])

  // ...
}
```

---

## é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [50-coding-standards.md](./50-coding-standards.md) - ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„
- [80-testing.md](./80-testing.md) - ã‚¨ãƒ©ãƒ¼ã‚±ãƒ¼ã‚¹ã®ãƒ†ã‚¹ãƒˆæ–¹é‡
- [20-clean-architecture.md](./20-clean-architecture.md) - ãƒ¬ã‚¤ãƒ¤ãƒ¼é–“ã®ã‚¨ãƒ©ãƒ¼ä¼æ’­

---

**æœ€çµ‚æ›´æ–°**: YYYY-MM-DD

